<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footballl</title>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body class="bg-primary">
  <style>


.card{
  position: relative;
  margin-left: 659px;
  margin-right: 659px;
}
/* h6 {
    font-size: 2rem;
} */
/* .dropdown{
  margin-left: auto;
  margin-right: auto;
} */
#dr2 {
  margin-right: 300px;
}
/* #buttonn{
  position: absolute;
  margin-left: 100px;
  margin-top: 10px;
} */

input[type=submit] {
  background-color: #04AA6D;
  border: none;
  color: white;
  padding: 16px 32px;
  text-decoration: none;
  margin: 4px 2px;
  cursor: pointer;
  margin-left: 75px;
}
select {
  background-color: #04AA6D;
  border: none;
  color: white;
  padding: 16px 32px;
  text-decoration: none;
  margin: 4px 2px;
  cursor: pointer;
  margin-left: 75px;
}




.card {
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
  transition: 0.3s;
  width: 40%;
}

.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

.container {
  padding: 2px 16px;
}

  </style>

    <nav class="navbar navbar-dark bg-primary">
        <div class="container-fluid">
          <a href="/" class="navbar-brand">Footballl</a>
          <a href="/" style="color:white;">Home</a>

          
          
          
        </div>
      </nav>

      <!-- <img src="\static\images\book1.jpg" class="d-block w-100" alt="book1"> -->


      <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="false" >
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        
        <div class="carousel-inner" >
          <div class="carousel-item active">
            <img src="\static\images\football1.jpg" class="d-block w-100" alt="book1" style="height:600px;">
            <div class="carousel-caption d-none d-md-block">
              <h5>Ronaldinho</h5>
              <p>“I learned all about life with a ball at my feet”</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="\static\images\football2.jpg" class="d-block w-100" alt="book2" style="height:600px;">
            <div class="carousel-caption d-none d-md-block">
              <h5>Second slide label</h5>
              <p>Some representative placeholder content for the second slide.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="\static\images\football3.jpg" class="d-block w-100" alt="book3" style="height:600px;">
            <div class="carousel-caption d-none d-md-block">
              <h5>Third slide label</h5>
              <p>Some representative placeholder content for the third slide.</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <br><br>
      <!-- <div class="dropdown" style="text-align: center;">
        
        <select id="dr1">
          <option  value="39">Premier League</option>
          <option   value="61">Ligue 1</option>
          <option  value="135">Serie A</option>
          <option   value="78">Bundesliga</option>
          <option  value="140">La Liga</option>
        </select>
      
      </div>
      <br><br>
      <div class="dropdown" style="text-align: center;">
       
        <select  id="dr2">
          <option  value="2021">2021</option>
          <option   value="2020">2020</option>
          <option  value="2019">2019</option>
         <option  value="2018">2018</option>
       
        </select>
      </div> -->
      <br><br>
      <div style="margin-left: 625px; margin-right: 625px;">
        <form action="/home" method="post">
        <!-- <label for="dr1" style="color: white;">Choose a league:</label> -->
        <select name="dr1" id="dr1">
          <option value="hide">Choose a league</option>
          <option  value="39">Premier League</option>
          <option   value="61">Ligue 1</option>
          <option  value="135">Serie A</option>
          <option   value="78">Bundesliga</option>
          <option  value="140">La Liga</option>
        </select>
        <!-- <br> -->
        <!-- <label for="dr2" style="color: white;">Choose a season:</label> -->
        <select  name="dr2" id="dr2">
          <option value="hide">Choose a season</option>
          <option  value="2021">2021</option>
          <option   value="2020">2020</option>
          <option  value="2019">2019</option>
         <option  value="2018">2018</option>
       
        </select>
        <br>
        <input type="submit" value="Top Scorers" id="buttonn">
      </form></div>
      

      
        <!-- <a href="/home"><button type="button" id="butnn" class="btn btn-light">Search</button></a>
   -->
      
      <br><br>
      {% if season != "-" %}

      {%if season =='hide' or league=='hide'%}
      <div style="text-align: center;  background-color: azure;"><p style="margin-left: 100px;"><em>Ooops try again....</em></p></div>
      
      <br><br>
      {%else%}
      <!-- <button>{{season}}</button><button>{{league}}</button> -->
      <div style="text-align: center;  background-color: azure;"><p style="margin-left: 100px;"><em>{{league}} {{season}} season</em></p></div>
      
      <br><br>
      {%endif%}

      
{%for i in range(length)%}
      
        <div class="card" style="width: 300px; " >
          <img src="{{book_list[i]['player']['photo']}}" class="card-img-top" alt="..." >
          <div class="card-body">
            <strong><p style="font-size: 30px;">{{book_list[i]['player']['name']}}</p></strong>
            <strong><p>Team : {{book_list[i]['statistics'][0]['team']['name']}}</p></strong><img src="{{book_list[i]['statistics'][0]['team']['logo']}}" alt="" style="height: 50px; width:50px;">
            <strong><p>Appearance : {{book_list[i]['statistics'][0]['games']['appearences']}}</p></strong>
            <strong><p>Goals : {{book_list[i]['statistics'][0]['goals']['total']}}</p></strong>
            <strong><p>Assists : {{book_list[i]['statistics'][0]['goals']['assists']}}</p></strong>
            <strong><p>Mins per Goal : {{((book_list[i]['statistics'][0]['games']['minutes'])/(book_list[i]['statistics'][0]['goals']['total']))|round}}</p></strong>
            <!-- <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p> -->
          </div>
          <!-- <div class="card-footer">
            <small class="text-muted">Last updated 3 mins ago</small>
          </div> -->
        </div>
        <br><br>
      {%endfor%}
       
    
    
      {%endif%}


     
</body>



<!-- JavaScript Bundle with Popper -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>


<script>


// if ($("#dr1").change()){
//   var league=$('option:selected', this).val()
// }
// else{
//   var league=$('option:selected', this).val()
// }

var league=$('#dr1 option:selected').val()
var season=$('#dr2 option:selected').val()

$("#dr1").change(function() {
  league=$('option:selected', this).val() 
    // console.log( $('option:selected', this).val() );
});



$("#dr2").change(function() {
  season=$('option:selected', this).val()
  // console.log( $('option:selected', this).val() );
});

console.log(league)



$("#butnn").click(function(){

  // $("#ui_season").val(season)
  // $("#ui_league").val(league)
  console.log("league",league)
  console.log("season",season)

  req = $.ajax({
            url : '/topscorers',
            type : 'POST',
            context : this,
            data : {
                league_ : league,
                season_ : season
            }
        });
       
}
)

            
      
</script>

</html>